# ==============================================================================
# ChemLink Analytics Database - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your credentials
# ==============================================================================

# ------------------------------------------------------------------------------
# ENVIRONMENT TOGGLE
# ------------------------------------------------------------------------------

DATA_ENV=kube  # local | kube

# ------------------------------------------------------------------------------
# SOURCE DATABASES (Production - READ-ONLY)
# ------------------------------------------------------------------------------

# ChemLink Service (Production)
CHEMLINK_PRD_DB_HOST=chemonics-global-liveus-prd-rds.cm5lwb7yhfav.us-west-1.rds.amazonaws.com
CHEMLINK_PRD_DB_PORT=5432
CHEMLINK_PRD_DB_NAME=chemlink-service-prd
CHEMLINK_PRD_DB_USER=chemlink-readonly
CHEMLINK_PRD_DB_PASSWORD=chemlink-readonly10202025!

# Engagement Platform (Production)
ENGAGEMENT_PRD_DB_HOST=chemonics-global-liveus-prd-rds.cm5lwb7yhfav.us-west-1.rds.amazonaws.com
ENGAGEMENT_PRD_DB_PORT=5432
ENGAGEMENT_PRD_DB_NAME=engagement-platform-prd
ENGAGEMENT_PRD_DB_USER=chemlink-readonly
ENGAGEMENT_PRD_DB_PASSWORD=chemlink-readonly10202025!

# Kratos Identity (Production)
KRATOS_PRD_DB_HOST=chemonics-kratos-prd.cm5lwb7yhfav.us-west-1.rds.amazonaws.com
KRATOS_PRD_DB_PORT=5432
KRATOS_PRD_DB_NAME=chemonics-kratos-prd
KRATOS_PRD_DB_USER=chemlink-readonly
KRATOS_PRD_DB_PASSWORD=replace_me

# ------------------------------------------------------------------------------
# CHEMLINK KUBERNETES (Development via port-forward localhost:5433)
# ------------------------------------------------------------------------------

# Default kube Postgres router (optional helper)
KUBERNETES_DB_HOST=localhost
KUBERNETES_DB_PORT=5433
KUBERNETES_DB_NAME=postgres
KUBERNETES_DB_USER=dev
KUBERNETES_DB_PASSWORD=dev

# ChemLink Service (Kubernetes Dev)
CHEMLINK_DEV_DB_HOST=localhost
CHEMLINK_DEV_DB_PORT=5433
CHEMLINK_DEV_DB_NAME=chemlink-service-dev
CHEMLINK_DEV_DB_USER=dev
CHEMLINK_DEV_DB_PASSWORD=dev

# Engagement Platform (Kubernetes Dev)
ENGAGEMENT_DEV_DB_HOST=localhost
ENGAGEMENT_DEV_DB_PORT=5433
ENGAGEMENT_DEV_DB_NAME=engagement-platform-dev
ENGAGEMENT_DEV_DB_USER=dev
ENGAGEMENT_DEV_DB_PASSWORD=dev

# Analytics Database (Kubernetes Dev)
ANALYTICS_DEV_DB_HOST=localhost
ANALYTICS_DEV_DB_PORT=5433
ANALYTICS_DEV_DB_NAME=chemlink_analytics_dev
ANALYTICS_DEV_DB_USER=dev
ANALYTICS_DEV_DB_PASSWORD=dev

# Kratos Identity (Kubernetes Dev)
KRATOS_DEV_DB_HOST=localhost
KRATOS_DEV_DB_PORT=5433
KRATOS_DEV_DB_NAME=kratos-chemlink-dev
KRATOS_DEV_DB_USER=dev
KRATOS_DEV_DB_PASSWORD=dev

# ------------------------------------------------------------------------------
# ANALYTICS DATABASE (Local)
# ------------------------------------------------------------------------------

ANALYTICS_DB_HOST=localhost
ANALYTICS_DB_PORT=5432
ANALYTICS_DB_NAME=chemlink_analytics
ANALYTICS_DB_USER=postgres
ANALYTICS_DB_PASSWORD=your_local_postgres_password

# ------------------------------------------------------------------------------
# ETL CONFIGURATION
# ------------------------------------------------------------------------------

# Batch size for bulk inserts
ETL_BATCH_SIZE=1000

# Logging level (DEBUG, INFO, WARNING, ERROR)
ETL_LOG_LEVEL=INFO

# How many days of data to process in incremental mode
ETL_LOOKBACK_DAYS=7

# Whether to clean test data during ETL
ETL_CLEAN_TEST_DATA=true

# Test account emails to exclude (comma-separated)
ETL_TEST_EMAILS=jsanchez@nmblr.ai,jaypersanchez@gmail.com

# ------------------------------------------------------------------------------
# FEATURE FLAGS
# ------------------------------------------------------------------------------

# Enable data quality checks during ETL
ENABLE_DATA_QUALITY_CHECKS=true

# Enable AI training data export
ENABLE_AI_EXPORT=true

# Enable schema migration on startup
AUTO_MIGRATE_SCHEMA=false
